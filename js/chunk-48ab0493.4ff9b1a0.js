(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48ab0493"],{"0ad6":function(e,t,s){!function(t,s){e.exports=s()}(self,(function(){return(()=>{var e={615:e=>{self,e.exports=(()=>{"use strict";var e={917:(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});class i{constructor(e,t){this.x=e,this.y=t,this.value=0,this.isVisible=!1,this.isFlagged=!1}getX(){return this.x}getY(){return this.y}getValue(){return this.value>=10?"X":this.value}setValue(e){this.value=e}getIsVisible(){return this.isVisible}setIsVisible(e){this.isVisible=e}getIsFlagged(){return this.isFlagged}setIsFlagged(e){this.isFlagged=e}increment(){this.value++}decrement(){this.value<10&&this.value--}toggleFlag(){this.isFlagged=!this.isFlagged}getIsClickable(){return!this.isFlagged&&!this.isVisible}}class a{constructor(e,t,s){this.newGame(e,t,s)}newGame(e,t,s){this.board=new Array(t);for(let a=0;a<t;a++){this.board[a]=new Array(e);for(let t=0;t<e;t++)this.board[a][t]=new i(t,a)}this.x=e,this.y=t,this.addMines(s),this.mineCount=s,this.started=!1,this.over=!1,this.squaresLeft=e*t-s,this.moveCount=0,this.edges=this.createEdgesBoard(e,t),this.lastXPlayed=-1,this.lastYPlayed=-1,this.time=null}getCell(e,t){return this.board[t][e]}getWidth(){return this.x}getLength(){return this.y}getLastPositionPlayed(){return{x:this.lastXPlayed,y:this.lastYPlayed}}getNeighborCount(e,t){return this.edges[t][e]}getBoard(){return this.board}addMines(e){for(;e>0;){let t=Math.floor(Math.random()*this.x),s=Math.floor(Math.random()*this.y);"X"!==this.board[s][t].getValue()&&(e--,this.board[s][t].setValue(10),this.getNeighbors(t,s).forEach(e=>{e.increment()}))}}getNeighbors(e,t){let s=[];for(let i=Math.max(0,t-1);i<Math.min(t+2,this.y);i++)for(let a=Math.max(0,e-1);a<Math.min(e+2,this.x);a++)i===t&&a===e||s.push(this.board[i][a]);return s}createEdgesBoard(e,t){let s=new Array(this.y).fill(null).map(()=>Array(this.x).fill(0));for(let i=0;i<t;i++)for(let t=0;t<e;t++)s[i][t]=this.getNeighbors(t,i).reduce((e,t)=>e+!t.getIsVisible(),0);return s}isEdge(e,t){return this.board[t][e].getIsVisible()&&this.edges[t][e]>0}updateEdges(e,t){for(let s=Math.max(0,t-1);s<Math.min(t+2,this.y);s++)for(let i=Math.max(0,e-1);i<Math.min(e+2,this.x);i++)s===t&&i===e||"X"===this.board[s][i].getValue()||this.edges[s][i]--}changeBoard(e,t){let s=!1;for(;!s;){let i=Math.floor(Math.random()*this.y),a=Math.floor(Math.random()*this.x);if("X"!==this.board[i][a].getValue()){s=!0,this.board[i][a].setValue(10),this.getNeighbors(a,i).forEach(e=>{e.increment()});let l=this.getNeighbors(e,t);this.getNeighbors(e,t).forEach(e=>{e.decrement()}),this.board[t][e].setValue(l.reduce((e,t)=>e+("X"===t.getValue()),0))}}}getClickableNeighbors(e,t){let s=[];return this.board[t][e].getIsVisible()&&this.getNeighboringFlagCount(e,t)===this.board[t][e].getValue()&&(s=this.getNeighbors(e,t).filter(e=>e.getIsClickable()).map(e=>({x:e.getX(),y:e.getY()}))),s}getNeighboringFlagCount(e,t){return this.getNeighbors(e,t).reduce((e,t)=>e+t.getIsFlagged(),0)}clearNeighbors(e,t){this.lastXPlayed=e,this.lastYPlayed=t;const s=this.getClickableNeighbors(e,t);let i=[];return s.forEach(e=>{i=i.concat(this.click(e.x,e.y))}),i.sort((e,t)=>e.state?-1:t.state?1:0),i}toggleFlag(e,t){return this.lastXPlayed=e,this.lastYPlayed=t,this.board[t][e].toggleFlag(),[{x:e,y:t,value:this.board[t][e].getIsFlagged()}]}click(e,t){let s=[];return this.board[t][e].getIsClickable()&&(this.moveCount++,s=this.gameMechanics(e,t),this.lastXPlayed=e,this.lastYPlayed=t),s}gameMechanics(e,t){let s=[],i=this.board[t][e].getValue();return this.board[t][e].setIsVisible(!0),this.board[t][e].setIsFlagged(!1),1===this.moveCount&&(this.startTimer(),"X"===i&&(this.changeBoard(e,t),i=this.board[t][e].getValue())),"X"===i?this.gameOver(e,t):(0===i?s=this.explode(e,t,[]):(s.push({x:e,y:t,value:i}),this.squaresLeft--,this.updateEdges(e,t)),0===this.squaresLeft&&(s=s.concat(this.gameWon(e,t))),s)}explode(e,t,s){this.board[t][e].setIsVisible(!0),this.squaresLeft--,this.updateEdges(e,t);let i=this.board[t][e].getValue();return s.push({x:e,y:t,value:i}),0===i&&this.getNeighbors(e,t).forEach(e=>{e.getIsVisible()||(s=this.explode(e.getX(),e.getY(),s))}),s}gameOver(e,t){this.over=!0;let s=[];for(let i=0;i<this.y;i++)for(let e=0;e<this.x;e++)this.board[i][e].getIsVisible()||s.push({x:e,y:i,value:this.board[i][e].getValue()});return s.push({x:e,y:t,state:"LOSE",time:this.stopTimer()}),s}gameWon(e,t){this.over=!0;let s=[];for(let i=0;i<this.y;i++)for(let e=0;e<this.x;e++)this.board[i][e].getIsVisible()||s.push({x:e,y:i,value:this.board[i][e].getValue()});return s.push({x:e,y:t,state:"WIN",time:this.stopTimer()}),s}startTimer(){this.started=!0,this.time=new Date}stopTimer(){return Math.floor((new Date-this.time)/1e3)}toString(){let e="---".repeat(this.x+2);for(let t=0;t<this.y;t++){e+="\n|  ";for(let s=0;s<this.x;s++){let i="*";this.board[t][s].getIsVisible()?i=this.board[t][s].getValue():this.board[t][s].getIsFlagged()&&(i="F"),e+=" "+i+" "}e+="  |"}return e+="\n"+"---".repeat(this.x+2),e}}}},t={};function s(i){if(t[i])return t[i].exports;var a=t[i]={exports:{}};return e[i](a,a.exports,s),a.exports}return s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(917)})()},990:(e,t,s)=>{s.g,e.exports=(()=>{"use strict";var e={142:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});const i=[{pattern:[[" "," "," "," "," "],["-","?","?","?"," "],["-","1","1"," "," "],["-","-","-"," "," "],["-","-","-","-"," "]],solution:[[" "," "," "," "," "],[" "," "," ","+"," "],[" "," "," ","+"," "],[" "," "," ","+"," "],[" "," "," "," "," "]]},{pattern:[[" ","?","?","?"," "],[" ","?","1","?"," "],[" ","-","1","-"," "],[" ","-","-","-"," "],[" "," "," "," "," "]],solution:[[" ","+","+","+"," "],[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "]]},{pattern:[["?","?","?"," "," "],["?","1","?"," "," "],[" ","?"," "," "," "],["-","1","-"," "," "],["-","-","-"," "," "]],solution:[["+","+","+"," "," "],["+"," ","+"," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "]]},{pattern:[[" ","-","-","-"," "],[" ","?","1","-"," "],[" ","?","1","-"," "],[" ","?","1"," "," "],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" ","+"," "," "," "],[" "," "," "," "," "]]},{pattern:[["?","?","?"],["1","2","1"],["-","-","-"]],solution:[["X","+","X"],[" "," "," "],[" "," "," "]]},{pattern:[["?","?","-"],["1","2","?"],["-","-","-"]],solution:[[" "," "," "],[" "," ","X"],[" "," "," "]]},{pattern:[["?","?","?"],["1","2","2"],["-","-","-"]],solution:[[" "," ","X"],[" "," "," "],[" "," "," "]]},{pattern:[[" "," "," ","-"," "],[" ","F","?","?","?"],[" ","-","2","1","?"],[" ","-","-","?","?"],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," ","+"],[" "," "," "," ","+"],[" "," "," "," ","+"],[" "," "," "," "," "]]},{pattern:[[" "," "," ","-"," "],[" ","-","-","-","?"],[" ","F","2","1","?"],[" ","-","?","?","?"],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," ","+"],[" "," "," "," ","+"],[" "," "," "," ","+"],[" "," "," "," "," "]]},{pattern:[[" ","-","-","-"," "],[" ","F","2","?"," "],[" ","-","2","?"," "],[" ","-","-","?"," "],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," ","+"," "],[" "," "," "," "," "]]},{pattern:[[" ","F","-","-"," "],[" ","-","2","?"," "],[" ","-","2","?"," "],[" ","-","-","?"," "],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," ","X"," "],[" "," "," "," "," "]]},{pattern:[[" ","-","F","-"," "],[" ","-","2","?"," "],[" ","-","2","?"," "],[" ","-","-","?"," "],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," ","X"," "],[" "," "," "," "," "]]},{pattern:[[" ","-","-","F"," "],[" ","-","2","?"," "],[" ","-","2","?"," "],[" ","-","-","?"," "],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," ","X"," "],[" "," "," "," "," "]]},{pattern:[[" ","-","-","-"," "],[" ","?","1","-"," "],[" ","?","2","-"," "],[" ","?","4","-"," "],[" ","?","F","F"," "]],solution:[[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" ","X"," "," "," "],[" "," "," "," "," "]]},{pattern:[[" "," "," "," "," "],["?","?","?","?"," "],["F","2","2","-"," "],[" ","-","-","-"," "],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," ","X"," "],[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "]]},{pattern:[["?","?","?"],["1","3","?"],["-","-","-"]],solution:[[" "," ","X"],[" "," ","X"],[" "," "," "]]},{pattern:[["?","?","?"],["3","3","2"],["-","F","-"]],solution:[["X"," "," "],[" "," "," "],[" "," "," "]]},{pattern:[[" "," "," "," "," "],[" ","-","-","-"," "],[" ","F","3","2","F"],[" ","F","?","?","?"],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," ","+"],[" "," "," "," "," "]]},{pattern:[[" ","F","F","-"," "],[" ","-","3","?"," "],[" ","-","3","?"," "],[" ","F","F","?"," "],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," ","+"," "],[" "," "," "," "," "]]},{pattern:[[" "," "," "," "," "],[" ","-","-","F"," "],[" ","F","3","3","F"],[" ","?","?","?","?"],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," ","+"],[" "," "," "," "," "]]},{pattern:[[" "," "," "," "," "],[" ","F","-","-","F"],[" ","-","3","3","F"],[" ","?","?","?","?"],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," "," "],[" "," "," "," "," "],[" ","X"," "," "," "],[" "," "," "," "," "]]},{pattern:[["?","-","?"],["?","4","?"],["?","2","-"]],solution:[["X"," ","X"],[" "," "," "],[" "," "," "]]},{pattern:[["-","2","?"],["F","4","?"],["-","?","?"]],solution:[[" "," "," "],[" "," "," "],[" ","X","X"]]},{pattern:[[" "," "," "," "," "],[" ","F","-","-"," "],[" ","F","5","2"," "],[" ","F","?","?","?"],[" "," "," "," "," "]],solution:[[" "," "," "," "," "],[" "," "," "," ","+"],[" "," "," "," ","+"],[" "," "," "," ","+"],[" "," "," "," "," "]]}];class a{constructor(){this.rules=i}rotate(e){let t=[];for(let s=0;s<e.length;s++){t[s]=[];for(let i=0;i<e[s].length;i++)t[s][i]=e[e.length-i-1][s]}return t}match(e,t){for(let s=0;s<e.length;s++)for(let i=0;i<e[s].length;i++)if(!this.compare(e[s][i],t[s][i]))return!1;return!0}compare(e,t){let s;switch(e){case"?":s=this.testUnknown(t);break;case"E":s=this.testOutOfBounds(t);break;case"F":s=this.testFlag(t);break;case" ":s=!0;break;default:s=e==t||this.testNumber(t)}return s}testUnknown(e){switch(e){case"?":case" ":return!0;default:return!1}}testOutOfBounds(e){switch(e){case"E":case"-":case" ":return!0;default:return!1}}testFlag(e){return"F"==e}testNumber(e){switch(e){case"-":case"E":case" ":return!0;default:return!1}}getRule(e){return-1===e||-2===e?null:this.rules[e]}}class l{constructor(e,t,s,i,a){this.x=e,this.y=t,this.message=s,this.canClick=[],this.canMine=[],this.ruleKey=i,this.rotation=a}determineAction(e){let t=Math.floor(e.length/2);for(let s=0;s<e.length;s++)for(let i=0;i<e[s].length;i++)switch(e[s][i]){case"X":this.canMine.push({x:this.x+i-t,y:this.y+s-t});break;case"+":this.canClick.push({x:this.x+i-t,y:this.y+s-t})}}allMine(e){for(let t=this.y-1;t<=this.y+1;t++)for(let s=this.x-1;s<=this.x+1;s++)t>=0&&t<e.length&&s>=0&&s<e[t].length&&e[t][s].getIsClickable()&&this.canMine.push({x:s,y:t})}allClick(e,t){for(let s=this.y-1;s<=this.y+1;s++)for(let i=this.x-1;i<=this.x+1;i++)s>=0&&s<e.length&&i>=0&&i<e[s].length&&(e[s][i]||t[s][i].getIsVisible()||this.canClick.push({x:i,y:s}))}}class n{constructor(e){this.newGame(e)}newGame(e){this.game=e,this.lastXScouted=-1,this.lastYScouted=-1,this.moves,this.flagVerified=Array(this.game.getLength()).fill(null).map(()=>Array(this.game.getWidth()).fill(!1)),this.rules=new a}getAllPlays(){const e=this.game.getLastPositionPlayed();if(this.lastXScouted===e.x&&this.lastYScouted===e.y)return!1;{let e;this.moves=[];let t=!1;do{t=!1;for(let s=0;s<this.game.getLength();s++)for(let i=0;i<this.game.getWidth();i++){let a=!0;if(e=this.getMove(i,s),null!=e){for(let t=0;t<this.moves.length;t++){let s=this.moves[t];s.x==e.x&&s.y==e.y&&s.ruleKey==e.ruleKey&&(a=!1)}a&&(this.moves.push(e),t=!0)}}}while(t)}return this.lastXScouted=e.x,this.lastYScouted=e.y,this.moves}getMove(e,t){let s=null;if(this.game.isEdge(e,t)){let i=this.getNeighboringFlagVerifiedCount(e,t),a=this.game.getNeighboringFlagCount(e,t);if(i===this.game.getCell(e,t).getValue()&&this.game.getNeighborCount(e,t)>i?(this.checkCorrectFlags(e,t),s=new l(e,t,"All neighboring mines flagged. Can click all unflagged neighbors.",-2,0),s.allClick(this.flagVerified,this.game.getBoard())):this.game.getCell(e,t).getValue()===this.game.getNeighborCount(e,t)&&this.game.getNeighborCount(e,t)>a?(s=new l(e,t,"All safe neighbors clicked. Can flag all remaining neighbors.",-1,0),s.allMine(this.game.getBoard())):s=this.patternMatching(e,t),null!=s)return this.addVerifiedFlags(s.canMine),s}return null}getNeighboringFlagVerifiedCount(e,t){let s=0;for(let i=Math.max(0,t-1);i<Math.min(t+2,this.game.getLength());i++)for(let a=Math.max(0,e-1);a<Math.min(e+2,this.game.getWidth());a++)i===t&&a===e||(s+=this.flagVerified[i][a]);return s}checkCorrectFlags(e,t){for(let s=Math.max(0,t-1);s<Math.min(t+2,this.game.getLength());s++)for(let t=Math.max(0,e-1);t<Math.min(e+2,this.game.getWidth());t++)this.game.getCell(t,s).getIsFlagged()&&!this.flagVerified[s][t]&&console.debug("Uncertain flag at: "+t+"|"+s)}addVerifiedFlags(e){for(let t=0;t<e.length;t++)this.flagVerified[e[t].y][e[t].x]=!0}getArea(e,t,s){let i=[],a=Math.floor(s/2);for(let l=t-a,n=0;l<=t+a;l++,n++){i[n]=[];for(let t=e-a,s=0;t<=e+a;t++,s++)l<0||l>this.game.getLength()-1||t<0||t>this.game.getWidth()-1?i[n][s]="E":!1===this.game.getCell(t,l).getIsVisible()?i[n][s]="?":!0===this.flagVerified[l][t]?i[n][s]="F":i[n][s]=this.game.getCell(t,l).getValue()}return i}patternMatching(e,t){let s=[],i=this.getArea(e,t,3),a=this.getArea(e,t,5);for(let n=0;n<this.rules.rules.length;n++){let r=this.rules.rules[n].pattern,o=this.rules.rules[n].solution,d=r[0].length;3==d?s=i:5==d&&(s=a);for(let i=0;i<4;i++){if(this.rules.match(s,r)){let s=new l(e,t,"Pattern Match",n,i);if(s.determineAction(o),!this.testIfAlreadyPerformed(s))return s}r=this.rules.rotate(r),o=this.rules.rotate(o)}}}testIfAlreadyPerformed(e){for(let t=0;t<e.canClick.length;t++)if(!this.game.getCell(e.canClick[t].x,e.canClick[t].y).getIsVisible())return!1;for(let t=0;t<e.canMine.length;t++)if(!this.game.getCell(e.canMine[t].x,e.canMine[t].y).getIsFlagged())return!1;return!0}}}},t={};function s(i){if(t[i])return t[i].exports;var a=t[i]={exports:{}};return e[i](a,a.exports,s),a.exports}return s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(142)})()},956:e=>{self,e.exports=(()=>{"use strict";var e={220:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});const i=[{name:"Easy",x:8,y:8,mines:10},{name:"Medium",x:16,y:16,mines:40},{name:"Hard",x:30,y:16,mines:99}];class a{constructor(e,t){if(this.newGame=e,t){let e=i.findIndex(e=>e.name.toLowerCase()===t.toLowerCase());this.selectedDifficulty=-1===e?0:e}else this.selectedDifficulty=0;this.difficulties=i}create(){const e=document.createElement("div");return e.classList.add("header","flex-container","align-center"),e.appendChild(this.createMetrics()),e.appendChild(this.createNewGameButton()),e.appendChild(this.createDifficultySelect()),e}createMetrics(){const e=document.createElement("div");e.classList.add("flex-container","align-center");const t=document.createElement("div");t.classList.add("mine"),t.innerHTML="&nbsp;",e.appendChild(t);const s=document.createElement("div");s.id="ms-js-mines",s.classList.add("padding-right","font-weight-bold"),s.innerHTML=(""+this.difficulties[this.selectedDifficulty].mines).padStart(2,"0"),e.appendChild(s);const i=document.createElement("div");i.classList.add("timer"),i.innerHTML="&nbsp;",e.appendChild(i);const a=document.createElement("div");return a.id="ms-js-timer",a.classList.add("padding-right","font-weight-bold"),a.innerHTML="000",e.appendChild(a),e}createNewGameButton(){const e=document.createElement("div");return e.id="ms-js-new-game",e.classList.add("new-game","padding-right"),e.addEventListener("click",()=>{const t=this.difficulties[this.selectedDifficulty];this.newGame(t.x,t.y,t.mines),e.classList.remove("win","loss")}),e}createDifficultySelect(){const e=document.createElement("select");e.id="ms-js-difficulty";for(let t=0;t<this.difficulties.length;t++){let s=document.createElement("option");s.value=t,s.text=this.difficulties[t].name,t===this.selectedDifficulty&&s.setAttribute("selected",!0),e.appendChild(s)}return e.addEventListener("change",()=>{const t=parseInt(e.value);if(t!==this.selectedDifficulty){const e=this.difficulties[t];this.newGame(e.x,e.y,e.mines),this.selectedDifficulty=t}}),e}}class l{constructor(e,t,s){this.solver=e,this.setClickable=t,this.setMineable=s}create(){const e=document.createElement("div");e.id="ms-js-solver",e.classList.add("solver");const t=document.createElement("div");t.classList.add("w-100");const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add("solver-btn"),s.innerHTML="Help",t.appendChild(s);let i=[],a=0;s.addEventListener("click",()=>{if(this.solver.game.over)return!1;this.solver.game.lastXPlayed===this.solver.lastXScouted&&this.solver.game.lastYPlayed===this.solver.lastYScouted||(i=this.solver.getAllPlays()),0===i.length?this.alertNoMoves():(a>=i.length&&(a=0),this.displayMove(i[a]),a++)}),e.appendChild(t);const l=document.createElement("div");l.id="ms-js-no-move-warning",l.classList.add("w-100","text-emphasize","padding-top"),e.appendChild(l);const n=document.createElement("div");n.id="ms-js-tip",n.classList.add("tip","flex-container");const r=document.createElement("div");r.id="ms-js-tip-board-state",n.appendChild(r);const o=document.createElement("div");o.id="ms-js-tip-pattern",n.appendChild(o);const d=document.createElement("div");return d.id="ms-js-tip-move",n.appendChild(d),e.appendChild(n),e}alertNoMoves(){document.getElementById("ms-js-no-move-warning").innerHTML="Not sure of any moves at the moment. Take a guess"}displayMove(e){const t=document.getElementById("ms-js-tip"),s=this.solver.rules.getRule(e.ruleKey);let i=3;s&&(i=s.pattern[0].length);let a=this.solver.getArea(e.x,e.y,i);if(t.replaceChild(this.createGameTemplate(a),document.getElementById("ms-js-tip-board-state")),s){let i=s.pattern,a=s.solution;for(let t=0;t<e.rotation;t++)i=this.solver.rules.rotate(i),a=this.solver.rules.rotate(a);t.replaceChild(this.createPatternTemplate(i,a),document.getElementById("ms-js-tip-pattern"))}else{const s=document.createElement("div");s.id="ms-js-tip-pattern";const i=document.createElement("h5");i.classList.add("solver-title"),i.innerHTML="Rule #"+(e.ruleKey+3)+":",s.appendChild(i);const a=document.createElement("p");a.classList.add("text-sm","text-emphasize");const l=document.createElement("span");l.classList.add("font-weight-bold"),-2===e.ruleKey?(a.innerHTML="This space has the number of mines flagged in neighbors. ",l.innerHTML="Can click all unflagged neighbors."):(a.innerHTML="The number of unrevealed spaces equals this space. ",l.innerHTML="Can flag all neighbors."),a.appendChild(l),s.appendChild(a),t.replaceChild(s,document.getElementById("ms-js-tip-pattern"))}t.replaceChild(this.createMoveTemplate(a,e),document.getElementById("ms-js-tip-move")),this.addMoveToGameBoard(e)}addMoveToGameBoard(e){e.canClick.forEach(e=>{this.setClickable(e.x,e.y)}),e.canMine.forEach(e=>{this.setMineable(e.x,e.y)});let t=document.getElementsByClassName("solver-focus");for(let s=0;s<t.length;s++)t[s].classList.remove("solver-focus");document.getElementById("ms-js-cell-"+e.x+"-"+e.y).classList.add("solver-focus")}createGameTemplate(e){const t=document.createElement("div");t.id="ms-js-tip-board-state";const s=document.createElement("h5");s.classList.add("solver-title"),s.innerHTML="Board State:",t.appendChild(s);for(let i=0;i<e.length;i++){let s=document.createElement("tr");for(let t=0;t<e[i].length;t++){let a=document.createElement("td"),l=Math.floor(e.length/2);switch(t===Math.floor(e[i].length/2)&&i===l&&a.classList.add("solver-focus"),e[i][t]){case"E":a.classList.add("dead");break;case"?":a.classList.add("cell-btn");break;case"F":a.classList.add("cell-btn","flag");break;default:a.classList.add(this.getNumberClass(e[i][t]),"cell-btn","disabled"),e[i][t]>0&&(a.innerHTML=""+e[i][t])}s.appendChild(a)}t.appendChild(s)}return t}createPatternTemplate(e,t){const s=document.createElement("div");s.id="ms-js-tip-pattern";const i=document.createElement("h5");i.classList.add("solver-title"),i.innerHTML="Pattern Match:",s.appendChild(i);for(let a=0;a<e.length;a++){let i=document.createElement("tr");for(let s=0;s<e[a].length;s++){let l=document.createElement("td"),n=Math.floor(e.length/2);switch(s===Math.floor(e[a].length/2)&&a===n&&l.classList.add("solver-focus"),e[a][s]){case" ":"+"===t[a][s]?l.classList.add("cell-btn","clickable"):"X"===t[a][s]?l.classList.add("cell-btn","mineable"):l.classList.add("dead");break;case"-":l.classList.add("cell-btn","zero","disabled");break;case"?":"+"===t[a][s]?l.classList.add("cell-btn","clickable"):"X"===t[a][s]?l.classList.add("cell-btn","mineable"):l.classList.add("cell-btn");break;case"F":l.classList.add("cell-btn","flag");break;default:l.classList.add(this.getNumberClass(e[a][s]),"cell-btn","disabled"),e[a][s]>0&&(l.innerHTML=""+e[a][s])}i.appendChild(l)}s.appendChild(i)}return s}createMoveTemplate(e,t){const s=document.createElement("div");s.id="ms-js-tip-move";const i=document.createElement("h5");i.classList.add("solver-title"),i.innerHTML="Moves:",s.appendChild(i);for(let a=0;a<e.length;a++){let i=document.createElement("tr");for(let s=0;s<e[a].length;s++){let l=document.createElement("td"),n=Math.floor(e.length/2),r=Math.floor(e[a].length/2);switch(s===r&&a===n&&l.classList.add("solver-focus"),e[a][s]){case"E":l.classList.add("dead");break;case"?":t.canMine.find(e=>e.x-t.x+r===s&&e.y-t.y+n===a)?l.classList.add("cell-btn","mineable"):t.canClick.find(e=>e.x-t.x+r===s&&e.y-t.y+n===a)&&l.classList.add("cell-btn","clickable"),l.classList.add("cell-btn");break;case"F":l.classList.add("cell-btn, flag");break;default:l.classList.add(this.getNumberClass(e[a][s]),"cell-btn","disabled"),e[a][s]>0&&(l.innerHTML=""+e[a][s])}i.appendChild(l)}s.appendChild(i)}return s}getNumberClass(e){return["zero","one","two","three","four","five","six","seven","eight"][e]}}class n{constructor(e,t,s,i,a){this.game=e,this.announceOutcome=t,this.toggleTimer=s,this.setMineCount=i,this.clearAlert=a}create(){const e=document.createElement("table");e.id="ms-js-board",e.classList.add("board"),e.setAttribute("cellspacing","0"),e.setAttribute("cellpadding","0");for(let r=0;r<this.game.getLength();r++)e.appendChild(this.row(r));let t=null,s=!1,i=!1,a=!1,l=!1;e.addEventListener("contextmenu",e=>(e.preventDefault(),!1)),e.addEventListener("mousewheel",e=>(e.preventDefault(),!1)),e.addEventListener("mouseover",e=>{e.target.classList.contains("cell-btn")&&(t=e.target,s&&i||l||s&&a?this.pressNeighbors(t):!s||t.classList.contains("disabled")||t.classList.contains("flag")||t.classList.add("active"))}),e.addEventListener("mouseout",e=>{t=null,e.target.classList.contains("board")?(s=!1,i=!1):e.target.classList.contains("cell-btn")&&(s&&i||l||s&&a?this.unpressNeighbors(e.target):s&&e.target.classList.remove("active"))}),e.addEventListener("mousedown",e=>{e.target.classList.contains("cell-btn")&&(0===e.button?s=!0:1===e.button?l=!0:2===e.button&&(i=!0),a=e.ctrlKey,s&&i||l||s&&a?this.pressNeighbors(t):!s||t.classList.contains("disabled")||t.classList.contains("flag")||t.classList.add("active"))});let n=!0;return e.addEventListener("mouseup",e=>{if(e.target.classList.contains("cell-btn"))return this.clearAlert(),n&&(n=!1,this.toggleTimer()),this.processClick(t,s,i,l,a),0===e.button?s=!1:1===e.button?l=!1:2===e.button&&(i=!1),a=e.ctrlKey,!1}),e}pressNeighbors(e){const t=parseInt(e.dataset.x),s=parseInt(e.dataset.y);this.getNeighbors(t,s).forEach(e=>{e.classList.contains("disabled")||e.classList.contains("flag")||e.classList.add("active")})}unpressNeighbors(e){const t=parseInt(e.dataset.x),s=parseInt(e.dataset.y);this.getNeighbors(t,s).forEach(e=>{e.classList.remove("active")})}getNeighbors(e,t){let s=[];for(let i=Math.max(0,t-1);i<Math.min(this.game.getLength(),t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this.game.getWidth(),e+2);t++)s.push(document.getElementById("ms-js-cell-"+t+"-"+i));return s}processClick(e,t,s,i,a){let l=[];const n=parseInt(e.dataset.x),r=parseInt(e.dataset.y);t&&s||i||t&&a?(this.unpressNeighbors(e),l=this.game.clearNeighbors(n,r)):t?e.classList.contains("disabled")||e.classList.contains("flag")||(l=this.game.click(n,r)):s&&(e.classList.contains("disabled")||(l=this.game.toggleFlag(n,r))),l.forEach(e=>{this.processOutcome(e)})}processOutcome(e){if(e.state)"LOSE"===e.state?(document.getElementById("ms-js-cell-"+e.x+"-"+e.y).classList.add("mine","losing-move","disabled"),this.announceOutcome(!1)):"WIN"===e.state&&this.announceOutcome(!0),this.toggleTimer();else if("boolean"==typeof e.value)e.value?(document.getElementById("ms-js-cell-"+e.x+"-"+e.y).classList.add("flag"),this.setMineCount("-")):(document.getElementById("ms-js-cell-"+e.x+"-"+e.y).classList.remove("flag"),this.setMineCount("+"));else{let t=document.getElementById("ms-js-cell-"+e.x+"-"+e.y);"X"===e.value?t.classList.add("mine","disabled"):0===e.value?t.classList.add("zero","disabled"):(t.classList.add(this.getNumberClass(e.value),"disabled"),t.innerHTML=e.value)}}getNumberClass(e){return["zero","one","two","three","four","five","six","seven","eight"][e]}row(e){const t=document.createElement("tr");for(let s=0;s<this.game.getWidth();s++)t.appendChild(this.cell(s,e));return t}cell(e,t){const s=document.createElement("td");return s.id="ms-js-cell-"+e+"-"+t,s.dataset.x=e,s.dataset.y=t,s.classList="cell-btn",s}}class r{constructor(e,t,s){this.game=e,this.solver=t,this.difficulty=s}create(){this.headerUI=new a(this.newGame.bind(this),this.difficulty),this.gameUI=new n(this.game,this.announceOutcome,this.toggleTimer.bind(this),this.setMineCount,this.clearAlert),this.solver&&(this.solverUI=new l(this.solver,this.setClickable,this.setMineable));const e=document.createElement("div");e.classList.add("minesweeper-js");const t=document.createElement("div");if(t.id="ms-js-game-container",t.appendChild(this.headerUI.create()),t.appendChild(this.gameUI.create()),e.appendChild(t),this.solver){const t=document.createElement("div");t.id="ms-js-solver-container",t.classList.add("padding-top"),t.appendChild(this.solverUI.create()),e.appendChild(t)}return e}newGame(e,t,s){this.game.newGame(e,t,s),document.getElementById("ms-js-game-container").replaceChild(this.gameUI.create(),document.getElementById("ms-js-board")),this.stopTimer(),this.setTime(0),this.setMineCount(s),this.solver&&(this.solver.newGame(this.game),document.getElementById("ms-js-solver-container").replaceChild(this.solverUI.create(),document.getElementById("ms-js-solver")))}announceOutcome(e){const t=document.getElementById("ms-js-new-game");e?t.classList.add("win"):t.classList.add("loss")}stopTimer(){this.timer&&(clearInterval(this.timer),this.timer=null)}toggleTimer(){this.timer?(clearInterval(this.timer),this.timer=null):(this.time=0,this.timer=setInterval(()=>{this.time++,this.setTime(this.time)},1e3))}setTime(e){e>=999&&(e=999),document.getElementById("ms-js-timer").innerHTML=(""+e).padStart(3,"0")}setMineCount(e){const t=document.getElementById("ms-js-mines");"+"===e?e=parseInt(t.innerHTML)+1:"-"===e&&(e=parseInt(t.innerHTML)-1),t.innerHTML=(""+e).padStart(2,"0")}clearAlert(){this.solver&&(document.getElementById("ms-js-no-move-warning").innerHTML="")}setClickable(e,t){let s=document.getElementById("ms-js-cell-"+e+"-"+t);s.classList.contains("disabled")||s.classList.add("clickable")}setMineable(e,t){const s=document.getElementById("ms-js-cell-"+e+"-"+t);s.classList.contains("disabled")||s.classList.add("mineable")}}}},t={};function s(i){if(t[i])return t[i].exports;var a=t[i]={exports:{}};return e[i](a,a.exports,s),a.exports}return s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(220)})()},390:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h,start:()=>c});var i=s(615),a=s.n(i),l=s(990),n=s.n(l),r=s(956),o=s.n(r);const d=[{name:"Easy",x:8,y:8,mines:10},{name:"Medium",x:16,y:16,mines:40},{name:"Hard",x:30,y:16,mines:99}];function c(e,t){if("string"==typeof e){if("#"===e.charAt(0))e=document.getElementById(e.slice(1));else if("."===e.charAt(0)){const t=document.getElementsByClassName(e.slice(1));e=t[0]}}else if(!(e instanceof HTMLElement))throw void 0===e?"MinesweeperJS: An element was not provided.":"MinesweeperJS: Not sure what you are using as an element to build.";let s=d[0],i=!0;t&&(t.difficulty&&(s=d.find(e=>e.name.toLowerCase()===t.difficulty.toLowerCase()),s||(s=d[0],console.error("An invalid game difficulty was provided. The game was initialized with a default instead."))),i=!1!==t.showSolver);const l=new(a())(s.x,s.y,s.mines),r=i?new(n())(l):null,c=new(o())(l,r,s.name);e.appendChild(c.create())}const h=c}},t={};function s(i){if(t[i])return t[i].exports;var a=t[i]={exports:{}};return e[i](a,a.exports,s),a.exports}return s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(390)})()}))},dead:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("app-nav",{attrs:{"is-sticky":!0}}),e._t("default"),s("app-footer",{staticClass:"mt-5"})],2)},a=[],l=s("f657"),n=s("46fc"),r={name:"AppLayout",components:{AppNav:n["a"],AppFooter:l["a"]}},o=r,d=s("2877"),c=Object(d["a"])(o,i,a,!1,null,null,null);t["a"]=c.exports},f87c:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("app-layout",[s("div",{staticClass:"container mt-2"},[s("div",{staticClass:"d-flex justify-content-center"},[s("div",{ref:"mine",staticClass:"bg-brand-tertiary p-3 rounded"})])])])},a=[],l=s("dead"),n=s("0ad6"),r=s.n(n),o={name:"Minesweeper",components:{AppLayout:l["a"]},mounted:function(){r()(this.$refs.mine)}},d=o,c=s("2877"),h=Object(c["a"])(d,i,a,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-48ab0493.4ff9b1a0.js.map